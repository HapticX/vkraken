<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>src/vkraken/methods/messages</title>

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- CSS -->
<link rel="stylesheet" type="text/css" href="../../nimdoc.out.css">

<!-- JS -->
<script type="text/javascript" src="../../dochack.js"></script>
</head>
<body>
  <div class="document" id="documentId">
    <div class="container">
      <h1 class="title">src/vkraken/methods/messages</h1>
      <div class="row">
  <div class="three columns">
    <div class="theme-select-wrapper">
      <label for="theme-select">Theme:&nbsp;</label>
      <select id="theme-select" onchange="setTheme(this.value)">
        <option value="auto">🌗 Match OS</option>
        <option value="dark">🌑 Dark</option>
        <option value="light">🌕 Light</option>
      </select>
    </div>
    <div id="global-links">
      <ul class="simple">
        <li><a id="indexLink" href="../../theindex.html">Index</a></li>
      </ul>
    </div>
    <div id="searchInputDiv">
      Search: <input type="search" id="searchInput" onkeyup="search()"/>
    </div>
    <div>
      Group by:
      <select onchange="groupBy(this.value)">
        <option value="section">Section</option>
        <option value="type">Type</option>
      </select>
    </div>
    <ul class="simple simple-toc" id="toc-list">
  <ul class="simple"><li><a class="reference" id="arguments_toc" href="#arguments">Arguments</a></li>
<li><a class="reference" id="result_toc" href="#result">Result</a></li>
<li><a class="reference" id="error-codes_toc" href="#error-codes">Error Codes</a></li>
<li><a class="reference" id="arguments_toc" href="#arguments">Arguments</a></li>
<li><a class="reference" id="result_toc" href="#result">Result</a></li>
<li><a class="reference" id="error-codes_toc" href="#error-codes">Error Codes</a></li>
<li><a class="reference" id="parameters_toc" href="#parameters">Parameters</a></li>
<li><a class="reference" id="result_toc" href="#result">Result</a></li>
<li><a class="reference" id="parameters_toc" href="#parameters">Parameters</a></li>
<li><a class="reference" id="result_toc" href="#result">Result</a></li>
<li><a class="reference" id="error-codes_toc" href="#error-codes">Error Codes</a></li>
<li><a class="reference" id="arguments_toc" href="#arguments">Arguments</a></li>
<li><a class="reference" id="result_toc" href="#result">Result</a></li>
<li><a class="reference" id="error-codes_toc" href="#error-codes">Error Codes</a></li>
<li><a class="reference" id="arguments_toc" href="#arguments">Arguments</a></li>
<li><a class="reference" id="result_toc" href="#result">Result</a></li>
<li><a class="reference" id="parameters_toc" href="#parameters">Parameters</a></li>
<li><a class="reference" id="arguments_toc" href="#arguments">Arguments</a></li>
<li><a class="reference" id="permissions_toc" href="#permissions">Permissions</a></li>
<li><a class="reference" id="result_toc" href="#result">Result</a></li>
<li><a class="reference" id="parameters_toc" href="#parameters">Parameters</a></li>
<li><a class="reference" id="result_toc" href="#result">Result</a></li>
<li><a class="reference" id="error-codes_toc" href="#error-codes">Error Codes</a></li>
<li><a class="reference" id="arguments_toc" href="#arguments">Arguments</a></li>
<li><a class="reference" id="result_toc" href="#result">Result</a></li>
</ul><li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#12" id="62">Procs</a></summary>
    <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">addChatUser
  <li><a class="reference" href="#addChatUser%2CMessagesMethods%2Cint%2Cint%2Cint" title="addChatUser(x: MessagesMethods; chat_id: int; user_id: int;
            visible_messages_count: int = 200): Future[int]">addChatUser(x: MessagesMethods; chat_id: int; user_id: int;
            visible_messages_count: int = 200): Future[int]</a></li>

</ul>
<ul class="simple nested-toc-section">allowMessagesFromGroup
  <li><a class="reference" href="#allowMessagesFromGroup%2CMessagesMethods%2Cint%2Cstring" title="allowMessagesFromGroup(x: MessagesMethods; group_id: int; key: string): Future[
    int]">allowMessagesFromGroup(x: MessagesMethods; group_id: int; key: string): Future[
    int]</a></li>

</ul>
<ul class="simple nested-toc-section">createChat
  <li><a class="reference" href="#createChat%2CMessagesMethods%2Cseq%5Bint%5D%2Cstring%2Cint" title="createChat(x: MessagesMethods; user_ids: seq[int]; title: string;
           group_id: int = 0): Future[CreatedChat]">createChat(x: MessagesMethods; user_ids: seq[int]; title: string;
           group_id: int = 0): Future[CreatedChat]</a></li>

</ul>
<ul class="simple nested-toc-section">delete
  <li><a class="reference" href="#delete%2CMessagesMethods%2Cseq%5Bint%5D%2Cbool%2Cint%2Cint%2Cbool%2Cint%2Cseq%5Bint%5D" title="delete(x: MessagesMethods; message_ids: seq[int]; spam: bool = false;
       reason: int = 0; group_id: int = 0; delete_for_all: bool = false;
       peer_id: int; cmids: seq[int] = @[]): Future[int]">delete(x: MessagesMethods; message_ids: seq[int]; spam: bool = false;
       reason: int = 0; group_id: int = 0; delete_for_all: bool = false;
       peer_id: int; cmids: seq[int] = @[]): Future[int]</a></li>

</ul>
<ul class="simple nested-toc-section">deleteChatPhoto
  <li><a class="reference" href="#deleteChatPhoto%2CMessagesMethods%2Cint%2Cint" title="deleteChatPhoto(x: MessagesMethods; chat_id: int; group_id: int = 0): Future[
    ChatUpdate]">deleteChatPhoto(x: MessagesMethods; chat_id: int; group_id: int = 0): Future[
    ChatUpdate]</a></li>

</ul>
<ul class="simple nested-toc-section">deleteConversation
  <li><a class="reference" href="#deleteConversation%2CMessagesMethods%2Cint%2Cint%2Cint%2Cint%2Cint" title="deleteConversation(x: MessagesMethods; user_id: int = 0; peer_id: int = 0;
                   offset: int = 0; count: int = 0; group_id: int = 0): Future[
    JsonNode]">deleteConversation(x: MessagesMethods; user_id: int = 0; peer_id: int = 0;
                   offset: int = 0; count: int = 0; group_id: int = 0): Future[
    JsonNode]</a></li>

</ul>
<ul class="simple nested-toc-section">deleteReaction
  <li><a class="reference" href="#deleteReaction%2CMessagesMethods%2Cint%2Cint" title="deleteReaction(x: MessagesMethods; peer_id: int; cmid: int): Future[JsonNode]">deleteReaction(x: MessagesMethods; peer_id: int; cmid: int): Future[JsonNode]</a></li>

</ul>
<ul class="simple nested-toc-section">denyMessagesFromGroup
  <li><a class="reference" href="#denyMessagesFromGroup%2CMessagesMethods%2Cint" title="denyMessagesFromGroup(x: MessagesMethods; group_id: int): Future[JsonNode]">denyMessagesFromGroup(x: MessagesMethods; group_id: int): Future[JsonNode]</a></li>

</ul>
<ul class="simple nested-toc-section">edit
  <li><a class="reference" href="#edit%2CMessagesMethods%2Cint%2Cstring%2Cint%2Cint%2Cseq%5Bstring%5D%2Cbool%2Cbool%2Cint%2Cbool%2Cbool%2Cint%2Cint%2CTemplate%2CKeyboard" title="edit(x: MessagesMethods; peer_id: int; message: string = &quot;&quot;; lat: int = 0;
     long: int = 0; attachment: seq[string] = @[];
     keep_forward_messages: bool = false; keep_snippets: bool = false;
     group_id: int = 0; dont_parse_links: bool = false;
     disable_mentions: bool = false; message_id: int = 0;
     conversation_message_id: int = 0; template: Template = Template();
     keyboard: Keyboard = Keyboard()): Future[int]">edit(x: MessagesMethods; peer_id: int; message: string = &quot;&quot;; lat: int = 0;
     long: int = 0; attachment: seq[string] = @[];
     keep_forward_messages: bool = false; keep_snippets: bool = false;
     group_id: int = 0; dont_parse_links: bool = false;
     disable_mentions: bool = false; message_id: int = 0;
     conversation_message_id: int = 0; template: Template = Template();
     keyboard: Keyboard = Keyboard()): Future[int]</a></li>

</ul>
<ul class="simple nested-toc-section">send
  <li><a class="reference" href="#send%2CMessagesMethods%2Cint%2Cint%2Cint%2Cseq%5Bint%5D%2Cstring%2Cint%2Cseq%5Bint%5D%2Cstring%2Cint%2Cint%2Cint%2Cseq%5Bstring%5D%2Cint%2Cseq%5Bint%5D%2CForwardBotMessage%2Cint%2Cint%2CKeyboard%2CTemplate%2Cstring%2CContentSource%2Cbool%2Cbool%2Cstring%2Cint" title="send(x: MessagesMethods; random_id: int = rand(100000); user_id: int = 0;
     peer_id: int = 0; peer_ids: seq[int] = @[]; domain: string = &quot;&quot;;
     chat_id: int = 0; user_ids: seq[int] = @[]; message: string = &quot;&quot;;
     guid: int = 0; lat: int = 0; long: int = 0; attachment: seq[string] = @[];
     reply_to: int = 0; forward_messages: seq[int] = @[];
     forward: ForwardBotMessage = ForwardBotMessage(); sticker_id: int = 0;
     group_id: int = 0; keyboard: Keyboard = Keyboard();
     template: Template = Template(); payload: string = &quot;&quot;;
     content_source: ContentSource = ContentSource();
     dont_parse_links: bool = false; disable_mentions: bool = false;
     intent: string = &quot;&quot;; subscribe_id: int = 0): Future[int]">send(x: MessagesMethods; random_id: int = rand(100000); user_id: int = 0;
     peer_id: int = 0; peer_ids: seq[int] = @[]; domain: string = &quot;&quot;;
     chat_id: int = 0; user_ids: seq[int] = @[]; message: string = &quot;&quot;;
     guid: int = 0; lat: int = 0; long: int = 0; attachment: seq[string] = @[];
     reply_to: int = 0; forward_messages: seq[int] = @[];
     forward: ForwardBotMessage = ForwardBotMessage(); sticker_id: int = 0;
     group_id: int = 0; keyboard: Keyboard = Keyboard();
     template: Template = Template(); payload: string = &quot;&quot;;
     content_source: ContentSource = ContentSource();
     dont_parse_links: bool = false; disable_mentions: bool = false;
     intent: string = &quot;&quot;; subscribe_id: int = 0): Future[int]</a></li>

</ul>

    </ul>
  </details>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
    
    <div id="tocRoot"></div>
    
    <p class="module-desc"></p>
    <div class="section" id="6">
  <h1><a class="toc-backref" href="#6">Imports</a></h1>
  <dl class="item">
    <a class="reference external" href="../core/core.html">../core/core</a>
  </dl>
</div>
<div class="section" id="12">
  <h1><a class="toc-backref" href="#12">Procs</a></h1>
  <dl class="item">
    <div id="addChatUser-procs-all">
  <div id="addChatUser,MessagesMethods,int,int,int">
  <dt><pre><span class="Keyword">proc</span> <a href="#addChatUser%2CMessagesMethods%2Cint%2Cint%2Cint"><span class="Identifier">addChatUser</span></a><span class="Other">(</span><span class="Identifier">x</span><span class="Other">:</span> <a href="../core/api.html#MessagesMethods"><span class="Identifier">MessagesMethods</span></a><span class="Other">;</span> <span class="Identifier">chat_id</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">;</span> <span class="Identifier">user_id</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">;</span>
                 <span class="Identifier">visible_messages_count</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">200</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">int</span><span class="Other">]</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">stackTrace</span><span class="Other">:</span> <span class="DecNumber">false</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Добавляет нового пользователя в мультидиалог.</p>
<p>Метод можно вызвать с ключом доступа пользователя, полученным в Standalone-приложении через Implicit Flow.</p>
<p>Требуются права доступа: messages.</p>

<h2><a class="toc-backref" id="arguments" href="#arguments">Arguments</a></h2><ul class="simple"><li><tt class="docutils literal"><span class="pre"><span class="Identifier">chat_id</span></span></tt> -- Идентификатор беседы. (Обязательный параметр)</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">user_id</span></span></tt> -- Идентификатор пользователя, которого необходимо включить в беседу. (Обязательный параметр)</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">visible_messages_count</span></span></tt> -- Количество видимых сообщений в чате. (Обязательный параметр)</li>
</ul>

<h2><a class="toc-backref" id="result" href="#result">Result</a></h2><p>После успешного выполнения возвращает <tt class="docutils literal"><span class="pre"><span class="DecNumber">1</span></span></tt>.</p>

<h2><a class="toc-backref" id="error-codes" href="#error-codes">Error Codes</a></h2><ul class="simple"><li><tt class="docutils literal"><span class="pre"><span class="DecNumber">103</span></span></tt>: Out of limits</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">925</span></span></tt>: You are not an admin of this chat</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">932</span></span></tt>: Your community can't interact with this peer</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">936</span></span></tt>: Contact not found</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">939</span></span></tt>: Message request already sent</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">945</span></span></tt>: Chat was disabled</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">946</span></span></tt>: Chat not supported</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">947</span></span></tt>: Can't add user to chat, because the user has no access to the group</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">967</span></span></tt>: This user can't be added to the work chat, as they aren't an employee.</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">981</span></span></tt>: Cannot add this user due to privacy settings</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">982</span></span></tt>: Cannot add users to chat temporarily</li>
</ul>

    
  </dd>
</div>

</div>
<div id="allowMessagesFromGroup-procs-all">
  <div id="allowMessagesFromGroup,MessagesMethods,int,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#allowMessagesFromGroup%2CMessagesMethods%2Cint%2Cstring"><span class="Identifier">allowMessagesFromGroup</span></a><span class="Other">(</span><span class="Identifier">x</span><span class="Other">:</span> <a href="../core/api.html#MessagesMethods"><span class="Identifier">MessagesMethods</span></a><span class="Other">;</span> <span class="Identifier">group_id</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">;</span> <span class="Identifier">key</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span>
    <span class="Identifier">int</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">stackTrace</span><span class="Other">:</span> <span class="DecNumber">false</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
           <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Разрешает отправку сообщений от сообщества текущему пользователю.</p>
<p>Этот метод можно вызвать с ключом доступа пользователя, полученным в Standalone-приложении через Implicit Flow.</p>
<p>Требуются права доступа: messages.</p>

<h2><a class="toc-backref" id="arguments" href="#arguments">Arguments</a></h2><ul class="simple"><li><tt class="docutils literal"><span class="pre"><span class="Identifier">group_id</span></span></tt> -- Идентификатор сообщества. (Обязательный параметр)</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">key</span></span></tt> -- Произвольная строка для идентификации пользователя. Значение будет возвращено в событии message_allow Callback API. Макс. длина = 256</li>
</ul>

<h2><a class="toc-backref" id="result" href="#result">Result</a></h2><p>После успешного выполнения возвращает <tt class="docutils literal"><span class="pre"><span class="DecNumber">1</span></span></tt>.</p>

<h2><a class="toc-backref" id="error-codes" href="#error-codes">Error Codes</a></h2><ul class="simple"><li>943 -- Cannot use this intent</li>
</ul>

    
  </dd>
</div>

</div>
<div id="createChat-procs-all">
  <div id="createChat,MessagesMethods,seq[int],string,int">
  <dt><pre><span class="Keyword">proc</span> <a href="#createChat%2CMessagesMethods%2Cseq%5Bint%5D%2Cstring%2Cint"><span class="Identifier">createChat</span></a><span class="Other">(</span><span class="Identifier">x</span><span class="Other">:</span> <a href="../core/api.html#MessagesMethods"><span class="Identifier">MessagesMethods</span></a><span class="Other">;</span> <span class="Identifier">user_ids</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">int</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">title</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span>
                <span class="Identifier">group_id</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><a href="../core/objects.html#CreatedChat"><span class="Identifier">CreatedChat</span></a><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">stackTrace</span><span class="Other">:</span> <span class="DecNumber">false</span><span class="Other">,</span>
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Создает чат с несколькими участниками.</p>
<p>Метод можно вызвать с ключом доступа пользователя, полученным в Standalone-приложении через Implicit Flow. Требуются права доступа: messages.</p>
<p>Метод также можно вызвать с ключом доступа сообщества. Требуются права доступа: messages.</p>

<h2><a class="toc-backref" id="parameters" href="#parameters">Parameters</a></h2><ul class="simple"><li><tt class="docutils literal"><span class="pre"><span class="Identifier">user_ids</span></span></tt> -- Идентификаторы пользователей, которые будут участвовать в чате. Используйте запятую в качестве разделителя. Указанные пользователи должны находиться в списке друзей текущего пользователя.</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">title</span></span></tt> -- Название чата.</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">group_id</span></span></tt> -- Идентификатор сообщества (для сообщений сообщества с ключом доступа пользователя).</li>
</ul>
<p>Обратите внимание, что при создании чата с токеном сообщества, чат не будет отображаться в интерфейсе сообщества. Кроме того, в таком чате нельзя пригласить участников при создании. Добавить их можно позже с помощью API-метода <tt class="docutils literal"><span class="pre"><span class="Identifier">messages</span><span class="Operator">.</span><span class="Identifier">getInviteLink</span></span></tt>.</p>

<h2><a class="toc-backref" id="result" href="#result">Result</a></h2><p>После успешного выполнения возвращает идентификатор созданного чата (<tt class="docutils literal"><span class="pre"><span class="Identifier">chat_id</span></span></tt>). </p>

    
  </dd>
</div>

</div>
<div id="delete-procs-all">
  <div id="delete,MessagesMethods,seq[int],bool,int,int,bool,int,seq[int]">
  <dt><pre><span class="Keyword">proc</span> <a href="#delete%2CMessagesMethods%2Cseq%5Bint%5D%2Cbool%2Cint%2Cint%2Cbool%2Cint%2Cseq%5Bint%5D"><span class="Identifier">delete</span></a><span class="Other">(</span><span class="Identifier">x</span><span class="Other">:</span> <a href="../core/api.html#MessagesMethods"><span class="Identifier">MessagesMethods</span></a><span class="Other">;</span> <span class="Identifier">message_ids</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">int</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">spam</span><span class="Other">:</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">;</span>
            <span class="Identifier">reason</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span> <span class="Identifier">group_id</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span> <span class="Identifier">delete_for_all</span><span class="Other">:</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">;</span>
            <span class="Identifier">peer_id</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">;</span> <span class="Identifier">cmids</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">int</span><span class="Other">]</span> <span class="Other">=</span> <span class="Operator">@</span><span class="Other">[</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">int</span><span class="Other">]</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">stackTrace</span><span class="Other">:</span> <span class="DecNumber">false</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Удаляет сообщение.</p>
<p>Метод доступен при использовании ключа доступа пользователя, полученного в Standalone-приложении через Implicit Flow. Требуются права доступа: messages. Метод также доступен при использовании ключа доступа сообщества. Требуются права доступа: messages.</p>

<h2><a class="toc-backref" id="parameters" href="#parameters">Parameters</a></h2><ul class="simple"><li><tt class="docutils literal"><span class="pre"><span class="Identifier">message_ids</span></span></tt> -- Список идентификаторов сообщений, разделённых через запятую.</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">spam</span></span></tt> -- Пометить сообщения как спам (доступен только с ключом доступа пользователя).</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">reason</span></span></tt> -- Идентификатор причины блокировки (integer).</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">group_id</span></span></tt> -- Идентификатор сообщества (для сообщений сообщества с ключом доступа пользователя).</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">delete_for_all</span></span></tt> -- <tt class="docutils literal"><span class="pre"><span class="DecNumber">1</span></span></tt> — если сообщение нужно удалить для получателей (если с момента отправки сообщения прошло не более 24 часов).</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">peer_id</span></span></tt> -- Идентификатор беседы, из которого необходимо удалить сообщения по cmids. Для пользователя: <tt class="docutils literal"><span class="pre"><span class="Identifier">id</span> <span class="Identifier">пользователя</span></span></tt>. Для групповой беседы: <tt class="docutils literal"><span class="pre"><span class="DecNumber">2000000000</span> <span class="Operator">+</span> <span class="Identifier">id</span> <span class="Identifier">беседы</span></span></tt>. Для сообщества: <tt class="docutils literal"><span class="pre"><span class="Operator">-</span><span class="Identifier">id</span> <span class="Identifier">сообщества</span></span></tt>.</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">cmids</span></span></tt> -- Идентификаторы сообщения в беседе, разделённые через запятую.</li>
</ul>

<h2><a class="toc-backref" id="result" href="#result">Result</a></h2><p>После успешного выполнения возвращает <tt class="docutils literal"><span class="pre"><span class="DecNumber">1</span></span></tt> для каждого удалённого сообщения.</p>

<h2><a class="toc-backref" id="error-codes" href="#error-codes">Error Codes</a></h2><p>924 - Can't delete this message for everybody </p>

    
  </dd>
</div>

</div>
<div id="deleteChatPhoto-procs-all">
  <div id="deleteChatPhoto,MessagesMethods,int,int">
  <dt><pre><span class="Keyword">proc</span> <a href="#deleteChatPhoto%2CMessagesMethods%2Cint%2Cint"><span class="Identifier">deleteChatPhoto</span></a><span class="Other">(</span><span class="Identifier">x</span><span class="Other">:</span> <a href="../core/api.html#MessagesMethods"><span class="Identifier">MessagesMethods</span></a><span class="Other">;</span> <span class="Identifier">chat_id</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">;</span> <span class="Identifier">group_id</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span>
    <a href="../core/objects.html#ChatUpdate"><span class="Identifier">ChatUpdate</span></a><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">stackTrace</span><span class="Other">:</span> <span class="DecNumber">false</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
                  <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Удаляет фотографию мультидиалога.</p>
<p>Этот метод может быть вызван с ключом доступа пользователя, полученным в Standalone-приложении через Implicit Flow. Требуются права доступа: messages.</p>
<p>Этот метод может быть вызван с ключом доступа сообщества. Требуются права доступа: messages.</p>

<h2><a class="toc-backref" id="arguments" href="#arguments">Arguments</a></h2><ul class="simple"><li><tt class="docutils literal"><span class="pre"><span class="Identifier">chat_id</span></span></tt> -- Идентификатор беседы. (Обязательный параметр)</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">group_id</span></span></tt> -- Идентификатор сообщества (для сообщений сообщества с ключом доступа пользователя).</li>
</ul>

<h2><a class="toc-backref" id="result" href="#result">Result</a></h2><p>После успешного выполнения возвращает объект, содержащий следующие поля:</p>
<ul class="simple"><li><tt class="docutils literal"><span class="pre"><span class="Identifier">message_id</span></span></tt> — идентификатор отправленного системного сообщения;</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">chat</span></span></tt> — объект мультидиалога.</li>
</ul>

<h2><a class="toc-backref" id="error-codes" href="#error-codes">Error Codes</a></h2><ul class="simple"><li>925: You are not an admin of this chat.</li>
<li>945: Chat was disabled.</li>
</ul>

    
  </dd>
</div>

</div>
<div id="deleteConversation-procs-all">
  <div id="deleteConversation,MessagesMethods,int,int,int,int,int">
  <dt><pre><span class="Keyword">proc</span> <a href="#deleteConversation%2CMessagesMethods%2Cint%2Cint%2Cint%2Cint%2Cint"><span class="Identifier">deleteConversation</span></a><span class="Other">(</span><span class="Identifier">x</span><span class="Other">:</span> <a href="../core/api.html#MessagesMethods"><span class="Identifier">MessagesMethods</span></a><span class="Other">;</span> <span class="Identifier">user_id</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span> <span class="Identifier">peer_id</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span>
                        <span class="Identifier">offset</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span> <span class="Identifier">count</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span> <span class="Identifier">group_id</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span>
    <span class="Identifier">JsonNode</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">stackTrace</span><span class="Other">:</span> <span class="DecNumber">false</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
                <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Удаляет беседу.</p>
<p>Этот метод можно вызвать с ключом доступа пользователя, полученным в Standalone-приложении через Implicit Flow. Требуются права доступа: messages.</p>
<p>Этот метод можно вызвать с ключом доступа сообщества. Требуются права доступа: messages.</p>

<h2><a class="toc-backref" id="arguments" href="#arguments">Arguments</a></h2><ul class="simple"><li><tt class="docutils literal"><span class="pre"><span class="Identifier">user_id</span></span></tt> -- Идентификатор пользователя. Если требуется очистить историю беседы, используйте <tt class="docutils literal"><span class="pre"><span class="Identifier">peer_id</span></span></tt>.</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">peer_id</span></span></tt> -- Идентификатор назначения. Для групповой беседы: <tt class="docutils literal"><span class="pre"><span class="DecNumber">2000000000</span> <span class="Operator">+</span> <span class="Identifier">id</span> <span class="Identifier">беседы</span></span></tt>. Для сообщества: <tt class="docutils literal"><span class="pre"><span class="Operator">-</span><span class="Identifier">id</span> <span class="Identifier">сообщества</span></span></tt>. <em>Разрешён с версии 5.38</em></li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">offset</span></span></tt> -- Начиная с какого сообщения нужно удалить переписку (по умолчанию удаляются все сообщения начиная с первого). <em>Запрещён с версии 5.100</em></li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">count</span></span></tt> -- Сколько сообщений нужно удалить. Обратите внимание, что на метод наложено ограничение, за один вызов нельзя удалить больше <tt class="docutils literal"><span class="pre"><span class="DecNumber">10000</span></span></tt> сообщений, поэтому если сообщений в переписке больше — метод нужно вызывать несколько раз. <em>Запрещён с версии 5.100</em></li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">group_id</span></span></tt> -- Идентификатор сообщества (для сообщений сообщества с ключом доступа пользователя).</li>
</ul>

<h2><a class="toc-backref" id="result" href="#result">Result</a></h2><p>После успешного выполнения возвращает поле <tt class="docutils literal"><span class="pre"><span class="Identifier">last_deleted_id</span></span></tt>, содержащее идентификатор последнего удалённого сообщения в переписке. </p>

    
  </dd>
</div>

</div>
<div id="deleteReaction-procs-all">
  <div id="deleteReaction,MessagesMethods,int,int">
  <dt><pre><span class="Keyword">proc</span> <a href="#deleteReaction%2CMessagesMethods%2Cint%2Cint"><span class="Identifier">deleteReaction</span></a><span class="Other">(</span><span class="Identifier">x</span><span class="Other">:</span> <a href="../core/api.html#MessagesMethods"><span class="Identifier">MessagesMethods</span></a><span class="Other">;</span> <span class="Identifier">peer_id</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">;</span> <span class="Identifier">cmid</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span>
    <span class="Identifier">JsonNode</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">stackTrace</span><span class="Other">:</span> <span class="DecNumber">false</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
                <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Удаляет ранее поставленную реакцию на сообщение в беседе.</p>
<p>Этот метод можно вызвать с ключом доступа пользователя, полученным в Standalone-приложении через Implicit Flow. Требуются права доступа: messages.</p>
<p>Этот метод можно вызвать с ключом доступа сообщества. Требуются права доступа: messages.</p>

<h2><a class="toc-backref" id="parameters" href="#parameters">Parameters</a></h2><ul class="simple"><li><tt class="docutils literal"><span class="pre"><span class="Identifier">peer_id</span></span></tt> -- Идентификатор беседы:<ul class="simple"><li><tt class="docutils literal"><span class="pre"><span class="Identifier">user_id</span></span></tt> — для личных чатов.</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">group_id</span></span></tt> — для чатов с сообществом.</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">2</span> <span class="DecNumber">000</span> <span class="DecNumber">000</span> <span class="DecNumber">000</span> <span class="Operator">+</span> <span class="Identifier">id_чата</span></span></tt> — для чатов.</li>
</ul>
<p>Обязательный параметр.</p>
</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">cmid</span></span></tt> -- Порядковый номер сообщения в чате (conversation_message_id). Обязательный параметр.</li>
</ul>

    
  </dd>
</div>

</div>
<div id="denyMessagesFromGroup-procs-all">
  <div id="denyMessagesFromGroup,MessagesMethods,int">
  <dt><pre><span class="Keyword">proc</span> <a href="#denyMessagesFromGroup%2CMessagesMethods%2Cint"><span class="Identifier">denyMessagesFromGroup</span></a><span class="Other">(</span><span class="Identifier">x</span><span class="Other">:</span> <a href="../core/api.html#MessagesMethods"><span class="Identifier">MessagesMethods</span></a><span class="Other">;</span> <span class="Identifier">group_id</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">JsonNode</span><span class="Other">]</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">stackTrace</span><span class="Other">:</span> <span class="DecNumber">false</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Запрещает отправку сообщений от сообщества текущему пользователю.
<h2><a class="toc-backref" id="arguments" href="#arguments">Arguments</a></h2><ul class="simple"><li><tt class="docutils literal"><span class="pre"><span class="Identifier">group_id</span></span></tt> -- Идентификатор сообщества. (Обязательный параметр)</li>
</ul>

<h2><a class="toc-backref" id="permissions" href="#permissions">Permissions</a></h2><p>Требуются права доступа: messages.</p>

<h2><a class="toc-backref" id="result" href="#result">Result</a></h2><p>После успешного выполнения возвращает 1. </p>

    
  </dd>
</div>

</div>
<div id="edit-procs-all">
  <div id="edit,MessagesMethods,int,string,int,int,seq[string],bool,bool,int,bool,bool,int,int,Template,Keyboard">
  <dt><pre><span class="Keyword">proc</span> <a href="#edit%2CMessagesMethods%2Cint%2Cstring%2Cint%2Cint%2Cseq%5Bstring%5D%2Cbool%2Cbool%2Cint%2Cbool%2Cbool%2Cint%2Cint%2CTemplate%2CKeyboard"><span class="Identifier">edit</span></a><span class="Other">(</span><span class="Identifier">x</span><span class="Other">:</span> <a href="../core/api.html#MessagesMethods"><span class="Identifier">MessagesMethods</span></a><span class="Other">;</span> <span class="Identifier">peer_id</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">;</span> <span class="Identifier">message</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">lat</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span>
          <span class="Identifier">long</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span> <span class="Identifier">attachment</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="Operator">@</span><span class="Other">[</span><span class="Other">]</span><span class="Other">;</span>
          <span class="Identifier">keep_forward_messages</span><span class="Other">:</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">;</span> <span class="Identifier">keep_snippets</span><span class="Other">:</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">;</span>
          <span class="Identifier">group_id</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span> <span class="Identifier">dont_parse_links</span><span class="Other">:</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">;</span>
          <span class="Identifier">disable_mentions</span><span class="Other">:</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">;</span> <span class="Identifier">message_id</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span>
          <span class="Identifier">conversation_message_id</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span> <span class="Identifier">template</span><span class="Other">:</span> <a href="../core/objects.html#Template"><span class="Identifier">Template</span></a> <span class="Other">=</span> <a href="../core/objects.html#Template"><span class="Identifier">Template</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">;</span>
          <span class="Identifier">keyboard</span><span class="Other">:</span> <a href="../core/objects.html#Keyboard"><span class="Identifier">Keyboard</span></a> <span class="Other">=</span> <a href="../core/objects.html#Keyboard"><span class="Identifier">Keyboard</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">int</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">stackTrace</span><span class="Other">:</span> <span class="DecNumber">false</span><span class="Other">,</span>
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Редактирует сообщение VK.</p>
<p>Метод можно вызвать с ключом доступа пользователя, полученным в Standalone-приложении через Implicit Flow. Требуются права доступа: messages.</p>
<p>Метод можно вызвать с ключом доступа сообщества. Требуются права доступа: messages.</p>

<h2><a class="toc-backref" id="parameters" href="#parameters">Parameters</a></h2><ul class="simple"><li><tt class="docutils literal"><span class="pre"><span class="Identifier">peer_id</span></span></tt> -- Идентификатор назначения.<ul class="simple"><li>Для пользователя: <tt class="docutils literal"><span class="pre"><span class="Identifier">id</span> <span class="Identifier">пользователя</span></span></tt>.</li>
<li>Для групповой беседы: <tt class="docutils literal"><span class="pre"><span class="DecNumber">2000000000</span> <span class="Operator">+</span> <span class="Identifier">id</span> <span class="Identifier">беседы</span></span></tt>.</li>
<li>Для сообщества: <tt class="docutils literal"><span class="pre"><span class="Operator">-</span><span class="Identifier">id</span> <span class="Identifier">сообщества</span></span></tt>.</li>
</ul>
<p>(Обязательный параметр)</p>
</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">message</span></span></tt> -- Текст сообщения. Обязательный параметр, если не задан параметр attachment. Макс. длина = <tt class="docutils literal"><span class="pre"><span class="DecNumber">9000</span></span></tt>.</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">lat</span></span></tt> -- Географическая широта (от <tt class="docutils literal"><span class="pre"><span class="Operator">-</span><span class="DecNumber">90</span></span></tt> до <tt class="docutils literal"><span class="pre"><span class="DecNumber">90</span></span></tt>).</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">long</span></span></tt> -- Географическая долгота (от <tt class="docutils literal"><span class="pre"><span class="Operator">-</span><span class="DecNumber">180</span></span></tt> до <tt class="docutils literal"><span class="pre"><span class="DecNumber">180</span></span></tt>).</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">attachment</span></span></tt> -- Медиавложения к личному сообщению, перечисленные через запятую. Каждое прикрепление представлено в формате: <tt class="docutils literal"><span class="pre"><span class="StringLit">&quot;&lt;type&gt;&lt;owner_id&gt;_&lt;media_id&gt;&quot;</span></span></tt><ul class="simple"><li><tt class="docutils literal"><span class="pre"><span class="Operator">&lt;</span><span class="Keyword">type</span><span class="Operator">&gt;</span></span></tt> — тип медиавложения: <tt class="docutils literal"><span class="pre"><span class="StringLit">&quot;photo&quot;</span></span></tt>, <tt class="docutils literal"><span class="pre"><span class="StringLit">&quot;video&quot;</span></span></tt>, <tt class="docutils literal"><span class="pre"><span class="StringLit">&quot;audio&quot;</span></span></tt>, <tt class="docutils literal"><span class="pre"><span class="StringLit">&quot;doc&quot;</span></span></tt>, <tt class="docutils literal"><span class="pre"><span class="StringLit">&quot;wall&quot;</span></span></tt>, <tt class="docutils literal"><span class="pre"><span class="StringLit">&quot;market&quot;</span></span></tt>.</li>
<li><tt class="docutils literal"><span class="pre"><span class="Operator">&lt;</span><span class="Identifier">owner_id</span><span class="Operator">&gt;</span></span></tt> — идентификатор владельца медиавложения (отрицательный, если объект в сообществе).</li>
<li><tt class="docutils literal"><span class="pre"><span class="Operator">&lt;</span><span class="Identifier">media_id</span><span class="Operator">&gt;</span></span></tt> — идентификатор медиавложения.</li>
</ul>
<p>Параметр является обязательным, если не задан параметр message.</p>
</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">keep_forward_messages</span></span></tt> -- <tt class="docutils literal"><span class="pre"><span class="DecNumber">1</span></span></tt>, чтобы сохранить прикреплённые пересланные сообщения (checkbox).</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">keep_snippets</span></span></tt> -- <tt class="docutils literal"><span class="pre"><span class="DecNumber">1</span></span></tt>, чтобы сохранить прикреплённые внешние ссылки (сниппеты) (checkbox).</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">group_id</span></span></tt> -- Идентификатор сообщества (для сообщений сообщества с ключом доступа пользователя).</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">dont_parse_links</span></span></tt> -- <tt class="docutils literal"><span class="pre"><span class="DecNumber">1</span></span></tt> — не создавать сниппет ссылки из сообщения (checkbox).</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">disable_mentions</span></span></tt> -- <tt class="docutils literal"><span class="pre"><span class="DecNumber">1</span></span></tt> — отключить уведомление об упоминании в сообщении (checkbox).</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">message_id</span></span></tt> -- Идентификатор сообщения (positive).</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">conversation_message_id</span></span></tt> -- Идентификатор сообщения в беседе (positive).</li>
<li><tt class="docutils literal"><span class="pre"><span class="Keyword">template</span></span></tt> -- Объект, описывающий шаблоны сообщений (text).</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">keyboard</span></span></tt> -- Объект, описывающий клавиатуру бота (text).</li>
</ul>

<h2><a class="toc-backref" id="result" href="#result">Result</a></h2><p>После успешного выполнения возвращает <tt class="docutils literal"><span class="pre"><span class="DecNumber">1</span></span></tt>.</p>

<h2><a class="toc-backref" id="error-codes" href="#error-codes">Error Codes</a></h2><ul class="simple"><li><tt class="docutils literal"><span class="pre"><span class="DecNumber">901</span></span></tt>: Can't send messages for users without permission</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">909</span></span></tt>: Can't edit this message, because it's too old</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">910</span></span></tt>: Can't sent this message, because it's too big</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">911</span></span></tt>: Keyboard format is invalid</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">912</span></span></tt>: This is a chat bot feature, change this status in settings</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">914</span></span></tt>: Message is too long</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">917</span></span></tt>: You don't have access to this chat</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">920</span></span></tt>: Can't edit this kind of message</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">940</span></span></tt>: Too many posts in messages</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">946</span></span></tt>: Chat not supported</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">949</span></span></tt>: Can't edit pinned message yet</li>
</ul>

    
  </dd>
</div>

</div>
<div id="send-procs-all">
  <div id="send,MessagesMethods,int,int,int,seq[int],string,int,seq[int],string,int,int,int,seq[string],int,seq[int],ForwardBotMessage,int,int,Keyboard,Template,string,ContentSource,bool,bool,string,int">
  <dt><pre><span class="Keyword">proc</span> <a href="#send%2CMessagesMethods%2Cint%2Cint%2Cint%2Cseq%5Bint%5D%2Cstring%2Cint%2Cseq%5Bint%5D%2Cstring%2Cint%2Cint%2Cint%2Cseq%5Bstring%5D%2Cint%2Cseq%5Bint%5D%2CForwardBotMessage%2Cint%2Cint%2CKeyboard%2CTemplate%2Cstring%2CContentSource%2Cbool%2Cbool%2Cstring%2Cint"><span class="Identifier">send</span></a><span class="Other">(</span><span class="Identifier">x</span><span class="Other">:</span> <a href="../core/api.html#MessagesMethods"><span class="Identifier">MessagesMethods</span></a><span class="Other">;</span> <span class="Identifier">random_id</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="Identifier">rand</span><span class="Other">(</span><span class="DecNumber">100000</span><span class="Other">)</span><span class="Other">;</span> <span class="Identifier">user_id</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span>
          <span class="Identifier">peer_id</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span> <span class="Identifier">peer_ids</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">int</span><span class="Other">]</span> <span class="Other">=</span> <span class="Operator">@</span><span class="Other">[</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">domain</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
          <span class="Identifier">chat_id</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span> <span class="Identifier">user_ids</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">int</span><span class="Other">]</span> <span class="Other">=</span> <span class="Operator">@</span><span class="Other">[</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">message</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
          <span class="Identifier">guid</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span> <span class="Identifier">lat</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span> <span class="Identifier">long</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span>
          <span class="Identifier">attachment</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="Operator">@</span><span class="Other">[</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">reply_to</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span>
          <span class="Identifier">forward_messages</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">int</span><span class="Other">]</span> <span class="Other">=</span> <span class="Operator">@</span><span class="Other">[</span><span class="Other">]</span><span class="Other">;</span>
          <span class="Identifier">forward</span><span class="Other">:</span> <a href="../core/objects.html#ForwardBotMessage"><span class="Identifier">ForwardBotMessage</span></a> <span class="Other">=</span> <a href="../core/objects.html#ForwardBotMessage"><span class="Identifier">ForwardBotMessage</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">;</span> <span class="Identifier">sticker_id</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span>
          <span class="Identifier">group_id</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span> <span class="Identifier">keyboard</span><span class="Other">:</span> <a href="../core/objects.html#Keyboard"><span class="Identifier">Keyboard</span></a> <span class="Other">=</span> <a href="../core/objects.html#Keyboard"><span class="Identifier">Keyboard</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">;</span>
          <span class="Identifier">template</span><span class="Other">:</span> <a href="../core/objects.html#Template"><span class="Identifier">Template</span></a> <span class="Other">=</span> <a href="../core/objects.html#Template"><span class="Identifier">Template</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">;</span> <span class="Identifier">payload</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
          <span class="Identifier">content_source</span><span class="Other">:</span> <a href="../core/objects.html#ContentSource"><span class="Identifier">ContentSource</span></a> <span class="Other">=</span> <a href="../core/objects.html#ContentSource"><span class="Identifier">ContentSource</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">;</span>
          <span class="Identifier">dont_parse_links</span><span class="Other">:</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">;</span> <span class="Identifier">disable_mentions</span><span class="Other">:</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">;</span>
          <span class="Identifier">intent</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">subscribe_id</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">int</span><span class="Other">]</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">stackTrace</span><span class="Other">:</span> <span class="DecNumber">false</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Отправляет сообщение пользователю или в беседу VK.</p>
<p>Этот метод можно вызвать с ключом доступа пользователя, полученным в Standalone-приложении через Implicit Flow. Требуются права доступа: messages.</p>
<p>Этот метод можно вызвать с ключом доступа сообщества. Требуются права доступа: messages.</p>

<h2><a class="toc-backref" id="arguments" href="#arguments">Arguments</a></h2><ul class="simple"><li><tt class="docutils literal"><span class="pre"><span class="Identifier">user_id</span></span></tt> -- Обязательный параметр. Идентификатор пользователя, которому отправляется сообщение.</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">random_id</span></span></tt> -- Обязательный параметр. Уникальный (в привязке к идентификатору приложения и идентификатору отправителя) идентификатор, предназначенный для предотвращения повторной отправки одного и того же сообщения. Сохраняется вместе с сообщением и доступен в истории сообщений. Возможные значения:<ul class="simple"><li><tt class="docutils literal"><span class="pre"><span class="DecNumber">0</span></span></tt> — проверка на уникальность не нужна.</li>
<li>Любое другое число в пределах <tt class="docutils literal"><span class="pre"><span class="Identifier">int32</span></span></tt> — проверка на уникальность нужна.</li>
</ul>
<p>Переданный в запросе random_id используется для проверки уникальности сообщений в заданном диалоге за последний час (но не более <tt class="docutils literal"><span class="pre"><span class="DecNumber">100</span></span></tt> последних сообщений). <em>Разрешён с версии 5.45</em></p>
</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">peer_id</span></span></tt> -- Необязательный параметр. Идентификатор получателя сообщения:<ul class="simple"><li>Для пользователя — <tt class="docutils literal"><span class="pre"><span class="Identifier">ИДЕНТИФИКАТОР_ПОЛЬЗОВАТЕЛЯ</span></span></tt>.</li>
<li>Для групповой беседы — <tt class="docutils literal"><span class="pre"><span class="DecNumber">2000000000</span> <span class="Operator">+</span> <span class="Identifier">ИДЕНТИФИКАТОР_БЕСЕДЫ</span></span></tt>.</li>
<li>Для сообщества — <tt class="docutils literal"><span class="pre"><span class="Operator">-</span><span class="Identifier">ИДЕНТИФИКАТОР_СООБЩЕСТВА</span></span></tt>.</li>
</ul>
<p><em>Разрешён с версии 5.38</em></p>
</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">peer_ids</span></span></tt> -- Необязательный параметр. Идентификаторы получателей сообщения, перечисленные через запятую. Максимальное количество идентификаторов — <tt class="docutils literal"><span class="pre"><span class="DecNumber">100</span></span></tt>. Примечание. Доступно только для ключа доступа сообщества. <em>Разрешён с версии 5.81</em></li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">domain</span></span></tt> -- Необязательный параметр. Короткий адрес пользователя. Пример: <tt class="docutils literal"><span class="pre"><span class="Identifier">persik_ryzhiy</span></span></tt>.</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">chat_id</span></span></tt> -- Необязательный параметр. Идентификатор беседы, в которую отправляется сообщение.</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">user_ids</span></span></tt> -- Необязательный параметр. Идентификаторы получателей сообщения, перечисленные через запятую. Максимальное количество идентификаторов — <tt class="docutils literal"><span class="pre"><span class="DecNumber">100</span></span></tt>. Примечание. Доступно только для ключа доступа сообщества. <em>Запрещён с версии 5.138</em></li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">message</span></span></tt> -- Необязательный параметр. Текст личного сообщения. Максимальное количество символов — <tt class="docutils literal"><span class="pre"><span class="DecNumber">4096</span></span></tt>. Обязательный параметр, если не задан параметр attachment.</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">guid</span></span></tt> -- Необязательный параметр. Уникальный идентификатор, предназначенный для предотвращения повторной отправки одного и того же сообщения.</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">lat</span></span></tt> -- Необязательный параметр. Географическая широта в градусах. Диапазон значений: от <tt class="docutils literal"><span class="pre"><span class="Operator">-</span><span class="DecNumber">90</span></span></tt> до <tt class="docutils literal"><span class="pre"><span class="DecNumber">90</span></span></tt>.</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">long</span></span></tt> -- Необязательный параметр. Географическая долгота в градусах. Диапазон значений: от <tt class="docutils literal"><span class="pre"><span class="Operator">-</span><span class="DecNumber">180</span></span></tt> до <tt class="docutils literal"><span class="pre"><span class="DecNumber">180</span></span></tt>.</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">attachment</span></span></tt> -- Необязательный параметр. Объект или несколько объектов, приложенных к записи. Обязательный параметр, если не задан параметр message. К записи можно приложить медиа или ссылку на внешнюю страницу. Если объектов несколько, укажите их через запятую ,. Формат описания медиавложения: <tt class="docutils literal"><span class="pre"><span class="StringLit">&quot;{type}{owner_id}_{media_id}&quot;</span></span></tt>, где:<ul class="simple"><li>type — тип медиавложения:<ul class="simple"><li><tt class="docutils literal"><span class="pre"><span class="StringLit">&quot;photo&quot;</span></span></tt> — фотография.</li>
<li><tt class="docutils literal"><span class="pre"><span class="StringLit">&quot;video&quot;</span></span></tt> — видеозапись.</li>
<li><tt class="docutils literal"><span class="pre"><span class="StringLit">&quot;audio&quot;</span></span></tt> — аудиозапись.</li>
<li><tt class="docutils literal"><span class="pre"><span class="StringLit">&quot;doc&quot;</span></span></tt> — файл.</li>
<li><tt class="docutils literal"><span class="pre"><span class="StringLit">&quot;wall&quot;</span></span></tt> — запись на стене.</li>
<li><tt class="docutils literal"><span class="pre"><span class="StringLit">&quot;market&quot;</span></span></tt> — товар.</li>
<li><tt class="docutils literal"><span class="pre"><span class="StringLit">&quot;poll&quot;</span></span></tt> — опрос.</li>
<li><tt class="docutils literal"><span class="pre"><span class="StringLit">&quot;question&quot;</span></span></tt> — вопрос.</li>
<li><tt class="docutils literal"><span class="pre"><span class="StringLit">&quot;owner_id&quot;</span></span></tt> — идентификатор владельца медиавложения. Идентификатор сообщества должен начинаться со знака -.</li>
<li><tt class="docutils literal"><span class="pre"><span class="StringLit">&quot;media_id&quot;</span></span></tt> — идентификатор медиавложения.</li>
</ul>
</li>
</ul>
<p>Если прикрепляется медиавложение, которое принадлежит другому пользователю, добавьте к формату описания медиавложения ключ доступа: <tt class="docutils literal"><span class="pre"><span class="StringLit">&quot;{type}{owner_id}_{media_id}_{access_key}&quot;</span></span></tt>.</p>
</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">reply_to</span></span></tt> -- Необязательный параметр. Идентификатор сообщения, на которое требуется ответить. <em>Разрешён с версии 5.92</em></li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">forward_messages</span></span></tt> -- Необязательный параметр. Идентификаторы пересылаемых сообщений, перечисленные через запятую. Пересылаемые сообщения отправителя будут отображаться в теле сообщения у получателя. Ограничения:<ul class="simple"><li>Не более <tt class="docutils literal"><span class="pre"><span class="DecNumber">100</span></span></tt> значений на верхнем уровне.</li>
<li>Максимальный уровень вложенности — <tt class="docutils literal"><span class="pre"><span class="DecNumber">45</span></span></tt>.</li>
<li>Максимальное количество пересылаемых сообщений — <tt class="docutils literal"><span class="pre"><span class="DecNumber">500</span></span></tt>.</li>
</ul>
</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">forward</span></span></tt> -- Необязательный параметр. JSON-объект со следующими полями:<ul class="simple"><li>owner_id — владелец сообщений. Укажите это поле, если вы хотите переслать сообщения из сообщества в личный диалог.</li>
<li>peer_id — идентификатор места, из которого необходимо переслать сообщения.</li>
<li>conversation_message_ids — массив conversation_message_id сообщений, которые необходимо переслать. В параметр можно передать сообщения, которые:<ul class="simple"><li>Находятся в личном диалоге с ботом.</li>
<li>Являются исходящими сообщениями бота.</li>
<li>Написаны после того, как бот вступил в беседу и появился доступ к сообщениям.</li>
</ul>
</li>
<li>message_ids — массив идентификаторов сообщений.</li>
<li>is_reply — ответ на сообщения. Укажите это поле, если вы хотите ответить на сообщения в том чате, в котором находятся сообщения. При этом в <tt class="docutils literal"><span class="pre"><span class="Identifier">conversation_message_ids</span></span></tt> или <tt class="docutils literal"><span class="pre"><span class="Identifier">message_ids</span></span></tt> должен находиться только один элемент.</li>
</ul>
</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">sticker_id</span></span></tt> -- Необязательный параметр. Идентификатор стикера.</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">group_id</span></span></tt> -- Необязательный параметр. Идентификатор сообщества для сообщений сообщества с ключом доступа пользователя.</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">keyboard</span></span></tt> -- Необязательный параметр. Объект, описывающий клавиатуру бота.</li>
<li><tt class="docutils literal"><span class="pre"><span class="Keyword">template</span></span></tt> -- Необязательный параметр. Объект, описывающий шаблон сообщения.</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">payload</span></span></tt> -- Необязательный параметр. Полезные данные.</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">content_source</span></span></tt> -- Необязательный параметр. Объект в формате JSON, описывающий источник пользовательского контента для чат-ботов.</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">dont_parse_links</span></span></tt> -- Необязательный параметр. Информация о том, создать ли сниппет ссылки из сообщения. Возможные значения:<ul class="simple"><li><tt class="docutils literal"><span class="pre"><span class="DecNumber">1</span></span></tt> — не создавать сниппет ссылки из сообщения.</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">0</span></span></tt> — создать сниппет ссылки из сообщения.</li>
</ul>
</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">disable_mentions</span></span></tt> -- Необязательный параметр. Информация о том, отключить ли уведомление об упоминании в сообщении. Возможные значения:<ul class="simple"><li><tt class="docutils literal"><span class="pre"><span class="DecNumber">1</span></span></tt> — отключить уведомление об упоминании в сообщении.</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">0</span></span></tt> — не отключать уведомление об упоминании в сообщении.</li>
</ul>
</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">intent</span></span></tt> -- Необязательный параметр. Строка, описывающая интенты.</li>
<li><tt class="docutils literal"><span class="pre"><span class="Identifier">subscribe_id</span></span></tt> -- Необязательный параметр. Число, которое будет использоваться для работы с интентами в будущем.</li>
</ul>

<h2><a class="toc-backref" id="result" href="#result">Result</a></h2><p>Метод возвращает идентификатор отправленного сообщения. Если передан параметр peer_ids, метод возвращает массив объектов. Поля объекта:</p>
<table border="1" class="docutils"><tr><th>Поле</th><th>Тип</th><th>Описание</th></tr>
<tr><td>peer_id</td><td>integer</td><td>Идентификатор назначения.</td></tr>
<tr><td>message_id</td><td>integer</td><td>Идентификатор сообщения.</td></tr>
<tr><td>conversation_message_id</td><td>integer</td><td>Идентификатор сообщения в диалоге.</td></tr>
<tr><td>error</td><td>string</td><td>Сообщение об ошибке, если сообщение не было доставлено получателю.</td></tr>
</table><p>Пример ответа:</p>
<p><pre class="listing">
{
  &quot;response&quot;: 5
}</pre></p>
<p>Коды ошибок</p>
<ul class="simple"><li><tt class="docutils literal"><span class="pre"><span class="DecNumber">104</span></span></tt>: Not found</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">900</span></span></tt>: Can't send messages for users from blacklist</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">901</span></span></tt>: Can't send messages for users without permission</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">902</span></span></tt>: Can't send messages to this user due to their privacy settings</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">911</span></span></tt>: Keyboard format is invalid</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">912</span></span></tt>: This is a chat bot feature, change this status in settings</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">913</span></span></tt>: Too many forwarded messages</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">914</span></span></tt>: Message is too long</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">917</span></span></tt>: You don't have access to this chat</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">921</span></span></tt>: Can't forward these messages</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">922</span></span></tt>: You left this chat</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">925</span></span></tt>: You are not admin of this chat</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">936</span></span></tt>: Contact not found</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">940</span></span></tt>: Too many posts in messages</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">943</span></span></tt>: Cannot use this intent</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">944</span></span></tt>: Limits overflow for this intent</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">945</span></span></tt>: Chat was disabled</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">946</span></span></tt>: Chat not supported</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">950</span></span></tt>: Can't send message, reply timed out</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">962</span></span></tt>: You can't access donut chat without subscription</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">969</span></span></tt>: Message cannot be forwarded</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">979</span></span></tt>: App action is restricted for conversations with communities</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">983</span></span></tt>: You are restricted to write to a chat</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">984</span></span></tt>: You has spam restriction</li>
<li><tt class="docutils literal"><span class="pre"><span class="DecNumber">1012</span></span></tt>: Writing is disabled for this chat</li>
</ul>

    
  </dd>
</div>

</div>

  </dl>
</div>

  </div>
</div>

      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br>
        <small style="color: var(--hint);">Made with Nim. Generated: 2024-01-05 01:18:06 UTC</small>
      </div>
    </div>
  </div>
  
  <!-- Google fonts -->
  <link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
  <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>
</body>
</html>
